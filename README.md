# Rcallport

### Description

An implementation of Microsoft's Recall with the purpose of generating a report of the user's activity today.

With its default configuration, it captures a screenshot of all displays every 5 minutes. Every 2 hours, all unprocessed screenshots are sent to Gemini 1.5 Flash API for its vision model to process them and describe the user's activity.

A report can be generated by the user at any time by right-clicking the program's tray icon and clicking the `Generate report` button. A report will be generated with screenshots from today and exported to reports path (defined in config.yaml - see Instructions for details) in a text file.

### Warning

__This is a dangerous idea, vulnerable in varying degrees to the same problems Microsoft's Recall had. Gemini 1.5 Flash's free tier, which is the default for this project, does not have enterprise-level data privacy guarantees.__

All submitted screenshots to the Gemini API are manually deleted after descriptions are generated to reduce risk. [Google clarifies that uploaded files or pixels of uploaded images are not used to train their models unless the user provides feedback, which this project does not.](https://support.google.com/gemini/answer/13594961?hl=en#uploaded_images) Conversations on Gemini 1.5 Flash may be processed and stored by Google - this project allows the use of different models and APIs for vision and text generation to further reduce risk.

__Use of a locally-run vision and text model, although perhaps not realistic for all devices, is recommended.__ Ollama API can be used to run local models by changing the config.yaml file.

Screenshots captured by the program are saved inside the user-specified folder. The database file is not encrypted.

### Instructions

Change the default configuration in `config.yaml` to fit your purposes. You can change:
 - The text and vision API connectors and models to be used (only Ollama and Gemini connectors exist at this time)
 - Report (folder), screenshot (folder), and database (file) paths. It is possible to pass relative or absolute paths
 - Minute and seconds interval of automated screenshots
 - Hour and minute interval of sending screenshots to the vision model

If using Gemini 1.5 Flash, generate your API key from Google's AI Console and set it in your `.env` file under the variable 'GEMINI_API_KEY'.

### Limitations and considerations

Due to restrictions in Gemini's free model, only 1,500 requests can be sent in a day. Setting the interval too low may cause hitting the limit prematurely. At the default rate of one screenshot per 5 minutes, this program runs its core functionality well below the limit, at 288 requests a day. Setting the interval to 1 minute has the program send 1,440 requests in a day, which is the lowest recommended interval for users of the free plan. If setting screenshot interval to 1 minute, make sure to set the screenshot API schedule interval to 15 minutes or below. Doing so will send screenshots to Gemini every 15 minutes for processing to keep up with the rate at which screenshots are generated. 

### Build

Use `wails build`.

### Additional information

Only Gemini 1.5 Flash and Ollama API are supported. Gemini free plan is enough for the program's core functionality to work at a satisfying accuracy. More APIs may be added by creating a struct and implementing the VisionTextModel interface.

## Live Development

To run in live development mode, run `wails dev` in the project directory. This will run a Vite development
server that will provide very fast hot reload of your frontend changes. If you want to develop in a browser
and have access to your Go methods, there is also a dev server that runs on http://localhost:34115. Connect
to this in your browser, and you can call your Go code from devtools.